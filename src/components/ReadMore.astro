---
import type { HTMLAttributes } from 'astro/types';
import ReadMoreIcon from '@/icons/ReadMoreIcon.astro';

type Props = HTMLAttributes<'a'> & {
  href: string;
  class?: string;
  variant?:
    | 'light-primary'
    | 'light-secondary'
    | 'dark-primary'
    | 'dark-secondary'
    | 'green-primary'
    | 'green-secondary';
};

const { href, class: className, variant = 'light-primary', ...rest } = Astro.props;
---

<a href={href} class:list={['read-more', `read-more--${variant}`, className]} {...rest}>
  <div class="icon-container">
    <ReadMoreIcon />
  </div>
  <span class="label">Les mer</span>
</a>

<style>
  .read-more {
    display: inline-flex;
    align-items: center;
    gap: 15px;
    text-decoration: none;
    color: inherit;
    transition: transform var(--animation-duration) ease;

    &:hover {
      transform: translateX(4px);
    }

    &:focus-visible {
      outline: 2px solid var(--color-focus);
      outline-offset: 2px;
    }
  }

  .icon-container {
    flex-shrink: 0;
    width: 41px;
    height: 41px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: var(--color-white);
  }

  .label {
    font-family: 'Mundial', sans-serif;
    font-weight: var(--font-weight-normal);
    font-size: var(--fs-label-l);
    line-height: var(--line-height-m);
    color: var(--color-dark-blue);
  }

  /* Light Primary (default) - Black background with green arrow */
  .read-more--light-primary .icon-container {
    background-color: var(--color-black);
    color: var(--color-light-green);
  }

  .read-more--light-primary .label {
    color: var(--color-black);
  }

  /* Light Secondary - Black background with white arrow */
  .read-more--light-secondary .icon-container {
    background-color: var(--color-black);
    color: var(--color-white);
  }

  .read-more--light-secondary .label {
    color: var(--color-black);
  }

  /* Dark Primary - White background with green arrow */
  .read-more--dark-primary .icon-container {
    background-color: var(--color-white);
    color: var(--color-light-green);
  }

  .read-more--dark-primary .label {
    color: var(--color-dark-blue);
  }

  /* Dark Secondary - White background with black arrow */
  .read-more--dark-secondary .icon-container {
    background-color: var(--color-white);
    color: var(--color-black);
  }

  .read-more--dark-secondary .label {
    color: var(--color-dark-blue);
  }

  /* Green Primary - Green background with black arrow */
  .read-more--green-primary .icon-container {
    background-color: var(--color-light-green);
    color: var(--color-black);
  }

  .read-more--green-primary .label {
    color: var(--color-black);
  }

  /* Green Secondary - Green background with white arrow */
  .read-more--green-secondary .icon-container {
    background-color: var(--color-light-green);
    color: var(--color-white);
  }

  .read-more--green-secondary .label {
    color: var(--color-white);
  }
</style>
